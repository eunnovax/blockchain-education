(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),o=n.n(c),i=(n(84),n(14)),l=n(11),s=n(17),u=n(18),h=n(19),m=(n(85),n(86),n(87),n(27)),d=(n(88),n(8)),b=n(23),p=n(41),f=n.n(p),g=n(63),k=n.n(g);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=r.a.createContext(),j=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).setNetwork=function(e){var t=[];e.forEach((function(e){var n=O({},e);t=[].concat(Object(d.a)(t),[n])})),n.setState((function(){return{network:t}}))},n.setPattern=function(e){for(var t="",a=0;a<e;a++)t+="0";n.setState({pattern:t})},n.blockText=function(e,t,n){var a=n[t].chain[e];return a.blockNumber+a.data+a.nonce+a.previousBlockHash+a.timestamp},n.sha256=function(e,t,a){return k()(n.blockText(e,t,a))},n.updateHash=function(e,t,a){var r=Object(d.a)(a);return r[t].chain[e].hash=n.sha256(e,t,r).toString(),r},n.updateChain=function(e,t){for(var a=Object(d.a)(n.state.network),r=e;r<n.state.network[t].chain.length;r++)r>0&&(a[t].chain[r].previousBlockHash=a[t].chain[r-1].hash),a=n.updateHash(r,t,a);n.setState({network:a})},n.mine=function(e,t){for(var a=0;a<n.state.maxNonce;a++){var r=Object(d.a)(n.state.network);if(r[t].chain[e].nonce=a,n.sha256(e,t,r).toString().substring(0,n.state.difficulty)===n.state.pattern){n.updateChain(e,t);break}}},n.changeNonce=function(e,t,a){var r=Object(d.a)(n.state.network);r[a].chain[t].nonce=e.target.value,n.setState({network:r},(function(){n.updateChain(t,a)}))},n.changeData=function(e,t,a){var r=Object(d.a)(n.state.network);r[a].chain[t].data=e.target.value,n.setState({network:r},(function(){n.updateChain(t,a)}))},n.addBlock=function(e,t){var a=Object(d.a)(n.state.network),r={};r.blockNumber=e+1,r.data="new block",r.nonce=1111,r.previousBlockHash=a[t-1].chain[e-1].hash,r.timestamp=1111,r.hash="0101abc",a[t-1].chain=[].concat(Object(d.a)(a[t-1].chain),[r]),n.setState({network:a})},n.addChain=function(){var e=Object(d.a)(n.state.network),t={nodes:0,title:"New Blockchain"};t.chainId=e.length+1,t.chain=[];var a={blockNumber:1,data:"new block",nonce:1111,previousBlockHash:"0",timestamp:1111,hash:"0011afcde"};t.chain=[].concat(Object(d.a)(t.chain),[a]),e=[].concat(Object(d.a)(e),[t]),n.setState({network:e})},n.consensus=function(e,t){if(e.preventDefault(),n.checkChain(t)){var a=Object(d.a)(n.state.network);console.log("netArray",a);var r=a[t];console.log("blockchain added",r);var c=n.state.network[t]._id;c?f.a.post("https://blockchainnet.herokuapp.com/broadcast/update/"+c,r).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)})):f.a.post("https://blockchainnet.herokuapp.com/broadcast/add",r).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}else alert("blockchain is not valid!")},n.checkChain=function(e){for(var t=Object(d.a)(n.state.network),a=!1,r=0;r<t[e].chain.length;r++){if(t[e].chain[r].hash.substring(0,n.state.difficulty)!==n.state.pattern){a=!1;break}a=!0}return console.log("blockchain status",a),a},n.state={network:[],modalOpen:!1,difficulty:4,maxNonce:5e5,pattern:"",hash:"",networkDB:[],status:!1},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setPattern(this.state.difficulty),console.log("component mounted"),f.a.get("https://blockchainnet.herokuapp.com/broadcast/").then((function(t){console.log("blocks",t.data),e.setNetwork(t.data)})).catch((function(e){console.log("server did not respond!")}))}},{key:"render",value:function(){return r.a.createElement(E.Provider,{value:O({},this.state,{blockNumber:this.blockText,sha256:this.sha256,updateHash:this.updateHash,updateChain:this.updateChain,mine:this.mine,changeNonce:this.changeNonce,changeData:this.changeData,addBlock:this.addBlock,addChain:this.addChain,consensus:this.consensus})},this.props.children)}}]),t}(a.Component),x=E.Consumer,w=n(34),y=n(39),N=n(146),C=n(142),B=n(5);function D(){var e=Object(w.a)(["\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin-top: 1rem;\n  align-items: center;\n  justify-content: center;\n  #modal {\n    background: var(--mainWhite);\n  }\n  &:hover {\n    .block-success {\n      border: 0.04rem solid rgba(0, 0, 0, 0.2);\n      box-shadow: 2px 2px 5px 0px rgba(0, 0, 0, 0.2);\n    }\n    .block-error {\n      border: 0.04rem solid rgba(0, 0, 0, 0.2);\n      box-shadow: 2px 2px 5px 0px rgba(0, 0, 0, 0.2);\n    }\n  }\n  .block-success {\n    border-color: transparent;\n    transition: all 0.2s linear;\n    border-radius: 25px;\n    background: var(--lighterGreen);\n  }\n  .block-error {\n    border-color: transparent;\n    transition: all 0.2s linear;\n    border-radius: 25px;\n    background: var(--pink);\n    \n  }\n"]);return D=function(){return e},e}var H=Object(B.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},button:{margin:e.spacing(1),width:100,height:50,display:"flex",alignItems:"center",justifyContent:"center"},dense:{marginTop:19},menu:{width:200},root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:700}}}))(function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.block,n=t.blockNumber,a=t.data,c=t.nonce,o=t.previousBlockHash,i=(t.timestamp,t.hash),l=this.props.chainID;return r.a.createElement(x,null,(function(t){return r.a.createElement(P,{className:"col-lg-3 col-sm-6"},r.a.createElement("div",null,r.a.createElement("form",{className:i.substring(0,t.difficulty)===t.pattern?"block-success":"block-error"},r.a.createElement("br",null),r.a.createElement(N.a,{id:"blockN",label:"block #",name:"Block Number",value:n,margin:"normal",variant:"outlined",className:e.textField}),r.a.createElement("br",null),r.a.createElement(N.a,{id:"nonce",label:"Nonce",name:"Nonce",value:c,onChange:function(e){return t.changeNonce(e,n-1,l-1)},margin:"normal",variant:"outlined",className:e.textField}),r.a.createElement("br",null),r.a.createElement(N.a,{id:"data",label:"Data",name:"data",value:a,onChange:function(e){return t.changeData(e,n-1,l-1)},margin:"normal",multiline:!0,rows:4,variant:"outlined",className:e.textField}),r.a.createElement("br",null),r.a.createElement(N.a,{id:"prevBHash",label:"prevBlockHash",name:"prevBlockHash",value:o,margin:"normal",variant:"outlined",className:e.textField}),r.a.createElement("br",null),r.a.createElement(N.a,{id:"hash",label:"hash",name:"Hash",value:i,margin:"normal",variant:"outlined",className:e.textField}),r.a.createElement("br",null),r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:function(e){t.mine(n-1,l-1)},className:e.button},"Mine")),r.a.createElement("br",null)))}))}}]),t}(a.Component)),P=y.a.div(D()),S=n(144),F=n(40),I=n.n(F),T=n(143);function R(){var e=Object(w.a)(["\n  .chain {\n    border-color: transparent;\n    transition: all 0.2s linear;\n  }\n  .chain-header {\n    background: transparent;\n    border-top: transparent;\n    transition: all 0.2s linear;\n  }\n  &:hover {\n    .chain {\n      border: 0.04rem solid rgba(0, 0, 0, 0.2);\n      box-shadow: 2px 2px 5px 0px rgba(0, 0, 0, 0.2);\n    }\n    .chain-header {\n      background: rgba(247, 247, 247);\n    }\n  }\n"]);return R=function(){return e},e}var A=Object(T.a)((function(e){return{fab:{margin:e.spacing(1)},button:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}})),W=function(){var e=A();return r.a.createElement(S.a,{color:"primary","aria-label":"Add",className:e.fab},r.a.createElement(I.a,null))},J=function(){var e=A();return r.a.createElement(C.a,{variant:"outlined",color:"primary",className:e.button},"Broadcast")},L=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.blockchain,t=e.title,n=e.nodes,a=e.chain,c=this.props.chainID;return r.a.createElement(x,null,(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chain-header d-flex align-self-center"},r.a.createElement("h5",{className:"align-self-center mb-0"}," ",t," ")),r.a.createElement("div",{className:"chain-header d-flex align-self-center"},r.a.createElement("h5",{className:"text-blue mb-0"},n," Nodes")),r.a.createElement("div",{className:"div-size",onClick:function(t){e.consensus(t,c-1)}},r.a.createElement(J,null)),r.a.createElement("div",{className:"row my-5"},a.map((function(e){return r.a.createElement(H,{key:a.indexOf(e)+1,block:e,chainID:c})})),r.a.createElement("div",{className:"buttonspace",onClick:function(t){e.addBlock(a.length,c)}},r.a.createElement(W,null))))}))}}]),t}(a.Component),M=(y.a.div(R()),Object(T.a)((function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}}}))),q=function(){var e=M();return r.a.createElement(S.a,{color:"primary","aria-label":"Add",className:e.fab},r.a.createElement(I.a,null))},z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"py-5"},r.a.createElement("div",{className:"container"},r.a.createElement(x,null,(function(e){return r.a.createElement(r.a.Fragment,null,e.network.map((function(t){return r.a.createElement(L,{key:e.network.indexOf(t)+1,blockchain:t,chainID:e.network.indexOf(t)+1})})),r.a.createElement("div",{onClick:function(t){e.addChain()}},r.a.createElement(q,null)))})))))}}]),t}(a.Component),G=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 mx-auto text-center text-title text-uppercase pt-5"},r.a.createElement("h1",{className:"display-3"},"404"),r.a.createElement("h1",null,"error"),r.a.createElement("h2",null,"page not found"),r.a.createElement("h3",null,"the requested URL",r.a.createElement("span",{className:"text-danger"},this.props.location.pathname)," "))))}}]),t}(a.Component),U=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:z}),r.a.createElement(m.a,{component:G})))}}]),t}(a.Component),X=n(33),_=n(67),K=n(145),Q=Object(_.a)({palette:{primary:{light:"#35baf6",main:"#2292b4",dark:"#0276aa",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}});o.a.render(r.a.createElement(K.a,{theme:Q},r.a.createElement(j,null,r.a.createElement(X.a,null,r.a.createElement(U,null)))),document.getElementById("root"))},79:function(e,t,n){e.exports=n(113)},84:function(e,t,n){},86:function(e,t,n){e.exports=n.p+"static/media/logo.25bf045c.svg"},87:function(e,t,n){},88:function(e,t){}},[[79,1,2]]]);
//# sourceMappingURL=main.1300baf8.chunk.js.map